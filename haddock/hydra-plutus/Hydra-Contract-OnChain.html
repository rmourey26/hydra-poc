<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Hydra.Contract.OnChain</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">hydra-plutus-0.1.0.0</span><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell98</td></tr></table><p class="caption">Hydra.Contract.OnChain</p></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">data</span> <a href="#t:HeadParameters">HeadParameters</a> = <a href="#v:HeadParameters">HeadParameters</a> {<ul class="subs"><li><a href="#v:participants">participants</a> :: [PubKeyHash]</li><li><a href="#v:policyId">policyId</a> :: MonetaryPolicyHash</li></ul>}</li><li class="src short"><span class="keyword">data</span> <a href="#t:State">State</a><ul class="subs"><li>= <a href="#v:Initial">Initial</a></li><li>| <a href="#v:Open">Open</a> [TxOut]</li><li>| <a href="#v:Final">Final</a></li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:Transition">Transition</a><ul class="subs"><li>= <a href="#v:CollectCom">CollectCom</a></li><li>| <a href="#v:Abort">Abort</a></li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:Hydra">Hydra</a></li><li class="src short"><a href="#v:hydraValidator">hydraValidator</a> :: <a href="Hydra-Contract-OnChain.html#t:HeadParameters" title="Hydra.Contract.OnChain">HeadParameters</a> -&gt; <a href="Hydra-Contract-OnChain.html#t:State" title="Hydra.Contract.OnChain">State</a> -&gt; <a href="Hydra-Contract-OnChain.html#t:Transition" title="Hydra.Contract.OnChain">Transition</a> -&gt; ScriptContext -&gt; Bool</li><li class="src short"><a href="#v:hydraScriptInstance">hydraScriptInstance</a> :: <a href="Hydra-Contract-OnChain.html#t:HeadParameters" title="Hydra.Contract.OnChain">HeadParameters</a> -&gt; ScriptInstance <a href="Hydra-Contract-OnChain.html#t:Hydra" title="Hydra.Contract.OnChain">Hydra</a></li><li class="src short"><a href="#v:hydraValidatorHash">hydraValidatorHash</a> :: <a href="Hydra-Contract-OnChain.html#t:HeadParameters" title="Hydra.Contract.OnChain">HeadParameters</a> -&gt; ValidatorHash</li><li class="src short"><span class="keyword">data</span> <a href="#t:Initial">Initial</a></li><li class="src short"><a href="#v:initialValidator">initialValidator</a> :: <a href="Hydra-Contract-OnChain.html#t:HeadParameters" title="Hydra.Contract.OnChain">HeadParameters</a> -&gt; ValidatorHash -&gt; ValidatorHash -&gt; PubKeyHash -&gt; TxOutRef -&gt; ScriptContext -&gt; Bool</li><li class="src short"><a href="#v:initialScriptInstance">initialScriptInstance</a> :: <a href="Hydra-Contract-OnChain.html#t:HeadParameters" title="Hydra.Contract.OnChain">HeadParameters</a> -&gt; ScriptInstance <a href="Hydra-Contract-OnChain.html#t:Initial" title="Hydra.Contract.OnChain">Initial</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:Commit">Commit</a></li><li class="src short"><a href="#v:commitValidator">commitValidator</a> :: ValidatorHash -&gt; TxOut -&gt; () -&gt; ScriptContext -&gt; Bool</li><li class="src short"><a href="#v:commitScriptInstance">commitScriptInstance</a> :: <a href="Hydra-Contract-OnChain.html#t:HeadParameters" title="Hydra.Contract.OnChain">HeadParameters</a> -&gt; ScriptInstance <a href="Hydra-Contract-OnChain.html#t:Commit" title="Hydra.Contract.OnChain">Commit</a></li><li class="src short"><a href="#v:commitValidatorHash">commitValidatorHash</a> :: <a href="Hydra-Contract-OnChain.html#t:HeadParameters" title="Hydra.Contract.OnChain">HeadParameters</a> -&gt; ValidatorHash</li><li class="src short"><span class="keyword">type</span> <a href="#t:FakeTxOutRef">FakeTxOutRef</a> = Integer</li><li class="src short"><a href="#v:validateMonetaryPolicy">validateMonetaryPolicy</a> :: <a href="Hydra-Contract-OnChain.html#t:FakeTxOutRef" title="Hydra.Contract.OnChain">FakeTxOutRef</a> -&gt; ScriptContext -&gt; Bool</li><li class="src short"><a href="#v:hydraMonetaryPolicy">hydraMonetaryPolicy</a> :: <a href="Hydra-Contract-OnChain.html#t:FakeTxOutRef" title="Hydra.Contract.OnChain">FakeTxOutRef</a> -&gt; MonetaryPolicy</li><li class="src short"><a href="#v:asDatum">asDatum</a> :: IsData a =&gt; a -&gt; Datum</li><li class="src short"><a href="#v:asRedeemer">asRedeemer</a> :: IsData a =&gt; a -&gt; Redeemer</li><li class="src short"><a href="#v:mustBeSignedByOneOf">mustBeSignedByOneOf</a> :: [PubKeyHash] -&gt; ScriptContext -&gt; Bool</li><li class="src short"><a href="#v:mustReimburse">mustReimburse</a> :: TxOut -&gt; ScriptContext -&gt; Bool</li><li class="src short"><a href="#v:mustRunContract">mustRunContract</a> :: <span class="keyword">forall</span> redeemer. IsData redeemer =&gt; ValidatorHash -&gt; redeemer -&gt; ScriptContext -&gt; Bool</li><li class="src short"><a href="#v:mustForwardParty">mustForwardParty</a> :: ScriptContext -&gt; MonetaryPolicyHash -&gt; PubKeyHash -&gt; Bool</li><li class="src short"><a href="#v:mustBurnParty">mustBurnParty</a> :: ScriptContext -&gt; MonetaryPolicyHash -&gt; PubKeyHash -&gt; Bool</li><li class="src short"><a href="#v:mkParty">mkParty</a> :: MonetaryPolicyHash -&gt; PubKeyHash -&gt; Value</li><li class="src short"><a href="#v:mkPartyName">mkPartyName</a> :: PubKeyHash -&gt; TokenName</li><li class="src short"><a href="#v:hasParty">hasParty</a> :: MonetaryPolicyHash -&gt; TxInInfo -&gt; Bool</li><li class="src short"><a href="#v:filterInputs">filterInputs</a> :: (TxInInfo -&gt; Bool) -&gt; ScriptContext -&gt; [(TxOutRef, TxOut)]</li><li class="src short"><a href="#v:findUtxo">findUtxo</a> :: TxOutRef -&gt; ScriptContext -&gt; Maybe (TxOutRef, TxOut)</li><li class="src short"><a href="#v:findContractInput">findContractInput</a> :: ValidatorHash -&gt; ScriptContext -&gt; Maybe TxOutRef</li><li class="src short"><a href="#v:symbols">symbols</a> :: Value -&gt; [CurrencySymbol]</li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:HeadParameters" class="def">HeadParameters</a> <a href="#t:HeadParameters" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:HeadParameters" class="def">HeadParameters</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:participants" class="def">participants</a> :: [PubKeyHash]</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:policyId" class="def">policyId</a> :: MonetaryPolicyHash</dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:HeadParameters">Instances</h4><details id="i:HeadParameters" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:HeadParameters:Lift:1"></span> Lift DefaultUni <a href="Hydra-Contract-OnChain.html#t:HeadParameters" title="Hydra.Contract.OnChain">HeadParameters</a></span> <a href="#t:HeadParameters" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:HeadParameters:Lift:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Hydra-Contract-OnChain.html">Hydra.Contract.OnChain</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:lift">lift</a> :: <a href="Hydra-Contract-OnChain.html#t:HeadParameters" title="Hydra.Contract.OnChain">HeadParameters</a> -&gt; RTCompile DefaultUni fun (Term TyName Name DefaultUni fun ())</p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:HeadParameters:Typeable:2"></span> Typeable DefaultUni <a href="Hydra-Contract-OnChain.html#t:HeadParameters" title="Hydra.Contract.OnChain">HeadParameters</a></span> <a href="#t:HeadParameters" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:HeadParameters:Typeable:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Hydra-Contract-OnChain.html">Hydra.Contract.OnChain</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:typeRep">typeRep</a> :: Proxy <a href="Hydra-Contract-OnChain.html#t:HeadParameters" title="Hydra.Contract.OnChain">HeadParameters</a> -&gt; RTCompile DefaultUni fun (Type TyName DefaultUni ())</p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:State" class="def">State</a> <a href="#t:State" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Initial" class="def">Initial</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:Open" class="def">Open</a> [TxOut]</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:Final" class="def">Final</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:State">Instances</h4><details id="i:State" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:State:Show:1"></span> Show <a href="Hydra-Contract-OnChain.html#t:State" title="Hydra.Contract.OnChain">State</a></span> <a href="#t:State" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:State:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Hydra-Contract-OnChain.html">Hydra.Contract.OnChain</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: Int -&gt; <a href="Hydra-Contract-OnChain.html#t:State" title="Hydra.Contract.OnChain">State</a> -&gt; ShowS</p><p class="src"><a href="#v:show">show</a> :: <a href="Hydra-Contract-OnChain.html#t:State" title="Hydra.Contract.OnChain">State</a> -&gt; String</p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Hydra-Contract-OnChain.html#t:State" title="Hydra.Contract.OnChain">State</a>] -&gt; ShowS</p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:State:Generic:2"></span> Generic <a href="Hydra-Contract-OnChain.html#t:State" title="Hydra.Contract.OnChain">State</a></span> <a href="#t:State" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:State:Generic:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Hydra-Contract-OnChain.html">Hydra.Contract.OnChain</a></p> <div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> Rep <a href="Hydra-Contract-OnChain.html#t:State" title="Hydra.Contract.OnChain">State</a> :: Type -&gt; Type</p></div> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:from">from</a> :: <a href="Hydra-Contract-OnChain.html#t:State" title="Hydra.Contract.OnChain">State</a> -&gt; Rep <a href="Hydra-Contract-OnChain.html#t:State" title="Hydra.Contract.OnChain">State</a> x</p><p class="src"><a href="#v:to">to</a> :: Rep <a href="Hydra-Contract-OnChain.html#t:State" title="Hydra.Contract.OnChain">State</a> x -&gt; <a href="Hydra-Contract-OnChain.html#t:State" title="Hydra.Contract.OnChain">State</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:State:ToJSON:3"></span> ToJSON <a href="Hydra-Contract-OnChain.html#t:State" title="Hydra.Contract.OnChain">State</a></span> <a href="#t:State" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:State:ToJSON:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Hydra-Contract-OnChain.html">Hydra.Contract.OnChain</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:toJSON">toJSON</a> :: <a href="Hydra-Contract-OnChain.html#t:State" title="Hydra.Contract.OnChain">State</a> -&gt; Value</p><p class="src"><a href="#v:toEncoding">toEncoding</a> :: <a href="Hydra-Contract-OnChain.html#t:State" title="Hydra.Contract.OnChain">State</a> -&gt; Encoding</p><p class="src"><a href="#v:toJSONList">toJSONList</a> :: [<a href="Hydra-Contract-OnChain.html#t:State" title="Hydra.Contract.OnChain">State</a>] -&gt; Value</p><p class="src"><a href="#v:toEncodingList">toEncodingList</a> :: [<a href="Hydra-Contract-OnChain.html#t:State" title="Hydra.Contract.OnChain">State</a>] -&gt; Encoding</p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:State:IsData:4"></span> IsData <a href="Hydra-Contract-OnChain.html#t:State" title="Hydra.Contract.OnChain">State</a></span> <a href="#t:State" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:State:IsData:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Hydra-Contract-OnChain.html">Hydra.Contract.OnChain</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:toData">toData</a> :: <a href="Hydra-Contract-OnChain.html#t:State" title="Hydra.Contract.OnChain">State</a> -&gt; Data</p><p class="src"><a href="#v:fromData">fromData</a> :: Data -&gt; Maybe <a href="Hydra-Contract-OnChain.html#t:State" title="Hydra.Contract.OnChain">State</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:State:Lift:5"></span> Lift DefaultUni <a href="Hydra-Contract-OnChain.html#t:State" title="Hydra.Contract.OnChain">State</a></span> <a href="#t:State" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:State:Lift:5"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Hydra-Contract-OnChain.html">Hydra.Contract.OnChain</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:lift">lift</a> :: <a href="Hydra-Contract-OnChain.html#t:State" title="Hydra.Contract.OnChain">State</a> -&gt; RTCompile DefaultUni fun (Term TyName Name DefaultUni fun ())</p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:State:Typeable:6"></span> Typeable DefaultUni <a href="Hydra-Contract-OnChain.html#t:State" title="Hydra.Contract.OnChain">State</a></span> <a href="#t:State" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:State:Typeable:6"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Hydra-Contract-OnChain.html">Hydra.Contract.OnChain</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:typeRep">typeRep</a> :: Proxy <a href="Hydra-Contract-OnChain.html#t:State" title="Hydra.Contract.OnChain">State</a> -&gt; RTCompile DefaultUni fun (Type TyName DefaultUni ())</p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:State:Rep:7"></span> <span class="keyword">type</span> Rep <a href="Hydra-Contract-OnChain.html#t:State" title="Hydra.Contract.OnChain">State</a></span> <a href="#t:State" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:State:Rep:7"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Hydra-Contract-OnChain.html">Hydra.Contract.OnChain</a></p> <div class="src"><span class="keyword">type</span> Rep <a href="Hydra-Contract-OnChain.html#t:State" title="Hydra.Contract.OnChain">State</a> = D1 ('MetaData &quot;State&quot; &quot;Hydra.Contract.OnChain&quot; &quot;hydra-plutus-0.1.0.0-inplace&quot; 'False) (C1 ('MetaCons &quot;Initial&quot; 'PrefixI 'False) (U1 :: Type -&gt; Type) :+: (C1 ('MetaCons &quot;Open&quot; 'PrefixI 'False) (S1 ('MetaSel ('Nothing :: Maybe Symbol) 'NoSourceUnpackedness 'NoSourceStrictness 'DecidedLazy) (Rec0 [TxOut])) :+: C1 ('MetaCons &quot;Final&quot; 'PrefixI 'False) (U1 :: Type -&gt; Type)))</div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Transition" class="def">Transition</a> <a href="#t:Transition" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:CollectCom" class="def">CollectCom</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:Abort" class="def">Abort</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:Transition">Instances</h4><details id="i:Transition" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Transition:Show:1"></span> Show <a href="Hydra-Contract-OnChain.html#t:Transition" title="Hydra.Contract.OnChain">Transition</a></span> <a href="#t:Transition" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Transition:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Hydra-Contract-OnChain.html">Hydra.Contract.OnChain</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: Int -&gt; <a href="Hydra-Contract-OnChain.html#t:Transition" title="Hydra.Contract.OnChain">Transition</a> -&gt; ShowS</p><p class="src"><a href="#v:show">show</a> :: <a href="Hydra-Contract-OnChain.html#t:Transition" title="Hydra.Contract.OnChain">Transition</a> -&gt; String</p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Hydra-Contract-OnChain.html#t:Transition" title="Hydra.Contract.OnChain">Transition</a>] -&gt; ShowS</p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Transition:Generic:2"></span> Generic <a href="Hydra-Contract-OnChain.html#t:Transition" title="Hydra.Contract.OnChain">Transition</a></span> <a href="#t:Transition" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Transition:Generic:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Hydra-Contract-OnChain.html">Hydra.Contract.OnChain</a></p> <div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> Rep <a href="Hydra-Contract-OnChain.html#t:Transition" title="Hydra.Contract.OnChain">Transition</a> :: Type -&gt; Type</p></div> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:from">from</a> :: <a href="Hydra-Contract-OnChain.html#t:Transition" title="Hydra.Contract.OnChain">Transition</a> -&gt; Rep <a href="Hydra-Contract-OnChain.html#t:Transition" title="Hydra.Contract.OnChain">Transition</a> x</p><p class="src"><a href="#v:to">to</a> :: Rep <a href="Hydra-Contract-OnChain.html#t:Transition" title="Hydra.Contract.OnChain">Transition</a> x -&gt; <a href="Hydra-Contract-OnChain.html#t:Transition" title="Hydra.Contract.OnChain">Transition</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Transition:IsData:3"></span> IsData <a href="Hydra-Contract-OnChain.html#t:Transition" title="Hydra.Contract.OnChain">Transition</a></span> <a href="#t:Transition" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Transition:IsData:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Hydra-Contract-OnChain.html">Hydra.Contract.OnChain</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:toData">toData</a> :: <a href="Hydra-Contract-OnChain.html#t:Transition" title="Hydra.Contract.OnChain">Transition</a> -&gt; Data</p><p class="src"><a href="#v:fromData">fromData</a> :: Data -&gt; Maybe <a href="Hydra-Contract-OnChain.html#t:Transition" title="Hydra.Contract.OnChain">Transition</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Transition:Lift:4"></span> Lift DefaultUni <a href="Hydra-Contract-OnChain.html#t:Transition" title="Hydra.Contract.OnChain">Transition</a></span> <a href="#t:Transition" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Transition:Lift:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Hydra-Contract-OnChain.html">Hydra.Contract.OnChain</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:lift">lift</a> :: <a href="Hydra-Contract-OnChain.html#t:Transition" title="Hydra.Contract.OnChain">Transition</a> -&gt; RTCompile DefaultUni fun (Term TyName Name DefaultUni fun ())</p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Transition:Typeable:5"></span> Typeable DefaultUni <a href="Hydra-Contract-OnChain.html#t:Transition" title="Hydra.Contract.OnChain">Transition</a></span> <a href="#t:Transition" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Transition:Typeable:5"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Hydra-Contract-OnChain.html">Hydra.Contract.OnChain</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:typeRep">typeRep</a> :: Proxy <a href="Hydra-Contract-OnChain.html#t:Transition" title="Hydra.Contract.OnChain">Transition</a> -&gt; RTCompile DefaultUni fun (Type TyName DefaultUni ())</p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Transition:Rep:6"></span> <span class="keyword">type</span> Rep <a href="Hydra-Contract-OnChain.html#t:Transition" title="Hydra.Contract.OnChain">Transition</a></span> <a href="#t:Transition" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Transition:Rep:6"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Hydra-Contract-OnChain.html">Hydra.Contract.OnChain</a></p> <div class="src"><span class="keyword">type</span> Rep <a href="Hydra-Contract-OnChain.html#t:Transition" title="Hydra.Contract.OnChain">Transition</a> = D1 ('MetaData &quot;Transition&quot; &quot;Hydra.Contract.OnChain&quot; &quot;hydra-plutus-0.1.0.0-inplace&quot; 'False) (C1 ('MetaCons &quot;CollectCom&quot; 'PrefixI 'False) (U1 :: Type -&gt; Type) :+: C1 ('MetaCons &quot;Abort&quot; 'PrefixI 'False) (U1 :: Type -&gt; Type))</div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Hydra" class="def">Hydra</a> <a href="#t:Hydra" class="selflink">#</a></p><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:Hydra">Instances</h4><details id="i:Hydra" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Hydra:ScriptType:1"></span> ScriptType <a href="Hydra-Contract-OnChain.html#t:Hydra" title="Hydra.Contract.OnChain">Hydra</a></span> <a href="#t:Hydra" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Hydra:ScriptType:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Hydra-Contract-OnChain.html">Hydra.Contract.OnChain</a></p> <div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> RedeemerType <a href="Hydra-Contract-OnChain.html#t:Hydra" title="Hydra.Contract.OnChain">Hydra</a></p><p class="src"><span class="keyword">type</span> DatumType <a href="Hydra-Contract-OnChain.html#t:Hydra" title="Hydra.Contract.OnChain">Hydra</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Hydra:DatumType:2"></span> <span class="keyword">type</span> DatumType <a href="Hydra-Contract-OnChain.html#t:Hydra" title="Hydra.Contract.OnChain">Hydra</a></span> <a href="#t:Hydra" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Hydra:DatumType:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Hydra-Contract-OnChain.html">Hydra.Contract.OnChain</a></p> <div class="src"><span class="keyword">type</span> DatumType <a href="Hydra-Contract-OnChain.html#t:Hydra" title="Hydra.Contract.OnChain">Hydra</a> = <a href="Hydra-Contract-OnChain.html#t:State" title="Hydra.Contract.OnChain">State</a></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Hydra:RedeemerType:3"></span> <span class="keyword">type</span> RedeemerType <a href="Hydra-Contract-OnChain.html#t:Hydra" title="Hydra.Contract.OnChain">Hydra</a></span> <a href="#t:Hydra" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Hydra:RedeemerType:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Hydra-Contract-OnChain.html">Hydra.Contract.OnChain</a></p> <div class="src"><span class="keyword">type</span> RedeemerType <a href="Hydra-Contract-OnChain.html#t:Hydra" title="Hydra.Contract.OnChain">Hydra</a> = <a href="Hydra-Contract-OnChain.html#t:Transition" title="Hydra.Contract.OnChain">Transition</a></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:hydraValidator" class="def">hydraValidator</a> :: <a href="Hydra-Contract-OnChain.html#t:HeadParameters" title="Hydra.Contract.OnChain">HeadParameters</a> -&gt; <a href="Hydra-Contract-OnChain.html#t:State" title="Hydra.Contract.OnChain">State</a> -&gt; <a href="Hydra-Contract-OnChain.html#t:Transition" title="Hydra.Contract.OnChain">Transition</a> -&gt; ScriptContext -&gt; Bool <a href="#v:hydraValidator" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:hydraScriptInstance" class="def">hydraScriptInstance</a> :: <a href="Hydra-Contract-OnChain.html#t:HeadParameters" title="Hydra.Contract.OnChain">HeadParameters</a> -&gt; ScriptInstance <a href="Hydra-Contract-OnChain.html#t:Hydra" title="Hydra.Contract.OnChain">Hydra</a> <a href="#v:hydraScriptInstance" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:hydraValidatorHash" class="def">hydraValidatorHash</a> :: <a href="Hydra-Contract-OnChain.html#t:HeadParameters" title="Hydra.Contract.OnChain">HeadParameters</a> -&gt; ValidatorHash <a href="#v:hydraValidatorHash" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Initial" class="def">Initial</a> <a href="#t:Initial" class="selflink">#</a></p><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:Initial">Instances</h4><details id="i:Initial" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Initial:ScriptType:1"></span> ScriptType <a href="Hydra-Contract-OnChain.html#t:Initial" title="Hydra.Contract.OnChain">Initial</a></span> <a href="#t:Initial" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Initial:ScriptType:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Hydra-Contract-OnChain.html">Hydra.Contract.OnChain</a></p> <div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> RedeemerType <a href="Hydra-Contract-OnChain.html#t:Initial" title="Hydra.Contract.OnChain">Initial</a></p><p class="src"><span class="keyword">type</span> DatumType <a href="Hydra-Contract-OnChain.html#t:Initial" title="Hydra.Contract.OnChain">Initial</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Initial:DatumType:2"></span> <span class="keyword">type</span> DatumType <a href="Hydra-Contract-OnChain.html#t:Initial" title="Hydra.Contract.OnChain">Initial</a></span> <a href="#t:Initial" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Initial:DatumType:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Hydra-Contract-OnChain.html">Hydra.Contract.OnChain</a></p> <div class="src"><span class="keyword">type</span> DatumType <a href="Hydra-Contract-OnChain.html#t:Initial" title="Hydra.Contract.OnChain">Initial</a> = PubKeyHash</div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Initial:RedeemerType:3"></span> <span class="keyword">type</span> RedeemerType <a href="Hydra-Contract-OnChain.html#t:Initial" title="Hydra.Contract.OnChain">Initial</a></span> <a href="#t:Initial" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Initial:RedeemerType:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Hydra-Contract-OnChain.html">Hydra.Contract.OnChain</a></p> <div class="src"><span class="keyword">type</span> RedeemerType <a href="Hydra-Contract-OnChain.html#t:Initial" title="Hydra.Contract.OnChain">Initial</a> = TxOutRef</div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:initialValidator" class="def">initialValidator</a> :: <a href="Hydra-Contract-OnChain.html#t:HeadParameters" title="Hydra.Contract.OnChain">HeadParameters</a> -&gt; ValidatorHash -&gt; ValidatorHash -&gt; PubKeyHash -&gt; TxOutRef -&gt; ScriptContext -&gt; Bool <a href="#v:initialValidator" class="selflink">#</a></p><div class="doc"><p>The Validator <code>initial</code> ensures that the input is consumed by a commit or
 an abort transaction.</p></div></div><div class="top"><p class="src"><a id="v:initialScriptInstance" class="def">initialScriptInstance</a> :: <a href="Hydra-Contract-OnChain.html#t:HeadParameters" title="Hydra.Contract.OnChain">HeadParameters</a> -&gt; ScriptInstance <a href="Hydra-Contract-OnChain.html#t:Initial" title="Hydra.Contract.OnChain">Initial</a> <a href="#v:initialScriptInstance" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Commit" class="def">Commit</a> <a href="#t:Commit" class="selflink">#</a></p><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:Commit">Instances</h4><details id="i:Commit" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Commit:ScriptType:1"></span> ScriptType <a href="Hydra-Contract-OnChain.html#t:Commit" title="Hydra.Contract.OnChain">Commit</a></span> <a href="#t:Commit" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Commit:ScriptType:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Hydra-Contract-OnChain.html">Hydra.Contract.OnChain</a></p> <div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> RedeemerType <a href="Hydra-Contract-OnChain.html#t:Commit" title="Hydra.Contract.OnChain">Commit</a></p><p class="src"><span class="keyword">type</span> DatumType <a href="Hydra-Contract-OnChain.html#t:Commit" title="Hydra.Contract.OnChain">Commit</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Commit:DatumType:2"></span> <span class="keyword">type</span> DatumType <a href="Hydra-Contract-OnChain.html#t:Commit" title="Hydra.Contract.OnChain">Commit</a></span> <a href="#t:Commit" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Commit:DatumType:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Hydra-Contract-OnChain.html">Hydra.Contract.OnChain</a></p> <div class="src"><span class="keyword">type</span> DatumType <a href="Hydra-Contract-OnChain.html#t:Commit" title="Hydra.Contract.OnChain">Commit</a> = TxOut</div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Commit:RedeemerType:3"></span> <span class="keyword">type</span> RedeemerType <a href="Hydra-Contract-OnChain.html#t:Commit" title="Hydra.Contract.OnChain">Commit</a></span> <a href="#t:Commit" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Commit:RedeemerType:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Hydra-Contract-OnChain.html">Hydra.Contract.OnChain</a></p> <div class="src"><span class="keyword">type</span> RedeemerType <a href="Hydra-Contract-OnChain.html#t:Commit" title="Hydra.Contract.OnChain">Commit</a> = ()</div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:commitValidator" class="def">commitValidator</a> :: ValidatorHash -&gt; TxOut -&gt; () -&gt; ScriptContext -&gt; Bool <a href="#v:commitValidator" class="selflink">#</a></p><div class="doc"><p>To lock outputs for a Hydra head, the ith head member will attach a commit
 transaction to the i-th output of the initial transaction.
 Validator <code>commit</code> ensures that the commit transaction correctly records the
 partial UTxO set Ui committed by the party.</p><p>The data field of the output of the commit transaction is</p><p>Ui = makeUTxO(o_1 , . . . , o_m),</p><p>where the o_j are the outputs referenced by the commit transaction&#8217;s inputs
 and makeUTxO stores pairs (out-ref_j , o_j) of outputs o_j with the
 corresponding output reference out-ref_j .</p></div></div><div class="top"><p class="src"><a id="v:commitScriptInstance" class="def">commitScriptInstance</a> :: <a href="Hydra-Contract-OnChain.html#t:HeadParameters" title="Hydra.Contract.OnChain">HeadParameters</a> -&gt; ScriptInstance <a href="Hydra-Contract-OnChain.html#t:Commit" title="Hydra.Contract.OnChain">Commit</a> <a href="#v:commitScriptInstance" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:commitValidatorHash" class="def">commitValidatorHash</a> :: <a href="Hydra-Contract-OnChain.html#t:HeadParameters" title="Hydra.Contract.OnChain">HeadParameters</a> -&gt; ValidatorHash <a href="#v:commitValidatorHash" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:FakeTxOutRef" class="def">FakeTxOutRef</a> = Integer <a href="#t:FakeTxOutRef" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:validateMonetaryPolicy" class="def">validateMonetaryPolicy</a> :: <a href="Hydra-Contract-OnChain.html#t:FakeTxOutRef" title="Hydra.Contract.OnChain">FakeTxOutRef</a> -&gt; ScriptContext -&gt; Bool <a href="#v:validateMonetaryPolicy" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:hydraMonetaryPolicy" class="def">hydraMonetaryPolicy</a> :: <a href="Hydra-Contract-OnChain.html#t:FakeTxOutRef" title="Hydra.Contract.OnChain">FakeTxOutRef</a> -&gt; MonetaryPolicy <a href="#v:hydraMonetaryPolicy" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:asDatum" class="def">asDatum</a> :: IsData a =&gt; a -&gt; Datum <a href="#v:asDatum" class="selflink">#</a></p><div class="doc"><p>This function can be rather unsafe and should *always* be used with a type
 annotation to avoid silly mistakes and hours of debugging.</p><p>So prefer:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>asDatum @(DatumType MyContract) val
</code></strong></pre><p>over</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>asDatum val
</code></strong></pre><p>A <code>Datum</code> is an opaque type, and type information is lost when turning into a
 a <code>Data</code>. Hence, various functions of the Plutus Tx framework that rely on
 <code>Datum</code> or <code>Redeemer</code> are basically stringly-typed function with no guarantee
 whatsoever that the 'IsData a' being passed will correspond to what's
 expected by the underlying script. So, save you some hours of debugging and
 always explicitly specify the source type when using this function,
 preferably using the data-family from the <code>ScriptType</code> instance.</p></div></div><div class="top"><p class="src"><a id="v:asRedeemer" class="def">asRedeemer</a> :: IsData a =&gt; a -&gt; Redeemer <a href="#v:asRedeemer" class="selflink">#</a></p><div class="doc"><p>Always use with explicit type-annotation, See warnings on <code><a href="Hydra-Contract-OnChain.html#v:asDatum" title="Hydra.Contract.OnChain">asDatum</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:mustBeSignedByOneOf" class="def">mustBeSignedByOneOf</a> :: [PubKeyHash] -&gt; ScriptContext -&gt; Bool <a href="#v:mustBeSignedByOneOf" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:mustReimburse" class="def">mustReimburse</a> :: TxOut -&gt; ScriptContext -&gt; Bool <a href="#v:mustReimburse" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:mustRunContract" class="def">mustRunContract</a> :: <span class="keyword">forall</span> redeemer. IsData redeemer =&gt; ValidatorHash -&gt; redeemer -&gt; ScriptContext -&gt; Bool <a href="#v:mustRunContract" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:mustForwardParty" class="def">mustForwardParty</a> :: ScriptContext -&gt; MonetaryPolicyHash -&gt; PubKeyHash -&gt; Bool <a href="#v:mustForwardParty" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:mustBurnParty" class="def">mustBurnParty</a> :: ScriptContext -&gt; MonetaryPolicyHash -&gt; PubKeyHash -&gt; Bool <a href="#v:mustBurnParty" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:mkParty" class="def">mkParty</a> :: MonetaryPolicyHash -&gt; PubKeyHash -&gt; Value <a href="#v:mkParty" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:mkPartyName" class="def">mkPartyName</a> :: PubKeyHash -&gt; TokenName <a href="#v:mkPartyName" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:hasParty" class="def">hasParty</a> :: MonetaryPolicyHash -&gt; TxInInfo -&gt; Bool <a href="#v:hasParty" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:filterInputs" class="def">filterInputs</a> :: (TxInInfo -&gt; Bool) -&gt; ScriptContext -&gt; [(TxOutRef, TxOut)] <a href="#v:filterInputs" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:findUtxo" class="def">findUtxo</a> :: TxOutRef -&gt; ScriptContext -&gt; Maybe (TxOutRef, TxOut) <a href="#v:findUtxo" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:findContractInput" class="def">findContractInput</a> :: ValidatorHash -&gt; ScriptContext -&gt; Maybe TxOutRef <a href="#v:findContractInput" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:symbols" class="def">symbols</a> :: Value -&gt; [CurrencySymbol] <a href="#v:symbols" class="selflink">#</a></p></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.24.0</p></div></body></html>